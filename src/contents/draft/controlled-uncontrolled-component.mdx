---
title: "Controlled and Uncontrolled Component"
tags:
  - react
date: 2023-08-08
banner: "/images/unit-test-banner.jpg"
description: What is controlled and uncontrolled component?
---

**Controlled component** adalah komponen yang dimana statenya diatur oleh react itu sendiri. Contohnya ketika ingin mendapatkan value dari suatu input, biasanya menggunakan state untuk menampung valuenya dengan menggunakan callback pada onChange seperti berikut:

```jsx
import React, { useState } from "react";

const ControlledComponent = () => {
	const [inputVal, setInputVal] = useState("");

	return (
		<form>
			<input
				type="text"
				value={inputVal}
				onChange={(e) => setInputVal(e.target.value)}
			/>
			<button type="submit">submit</button>
		</form>
	);
};

export default ControlledComponent;
```

Dikarenakan inputVal merupakan value dari input yang dikontrol berdasarkan setiap kali terjadinya perubahan yang ditangkap oleh onChange lalu mengupdatenya melalui setInputVal(â€¦), maka bisa dikatakan component di atas adalah controlled component. React sendiri menyarankan untuk menggunakan Controlled component karena lebih fleksibel atau lebih punya kendali penuh atas perubahan state pada suatu component.

**Uncontrolled component** adalah komponen yang dimana statenya tidak diatur oleh react itu sendiri. Maksudnya gimana? uncontrolled component tidak memanfaatkan react (useState) untuk mengubah atau melakukan manipulasi state pada suatu component seperti halnya yang dilakukan oleh controlled component. Melainkan, value dari suatu component didapatkan secara langsung melalui dom-nya, salah satu contohnya yaitu menggunakan useRef. Dapat dilihat pada contoh berikut:

```jsx
import React, { useRef } from "react";

const UncontrolledComponent = () => {
	const inputRef = useRef();

	const handleSubmit = (e) => {
		e.preventDefault();
		console.log(inputRef.current.value); // langsung mengakses value input melalui dom
	};

	return (
		<form>
			<input type="text" ref={inputRef} />
			<button type="submit" onClick={handleSubmit}>
				submit
			</button>
		</form>
	);
};

export default UncontrolledComponent;
```

Pada code di atas dapat dilihat perbedaan bagaimana cara mendapatkan value dari input component tersebut, dimana input value tidak disimpan di suatu state menggunakan useState dan memanggil nama state untuk mendapatkan input value itu sendiri. Melainkan, langsung mengakses valuenya melalui dom dengan memanfaatkan referensi yang dimiliki oleh suatu component, dalam hal ini input component.
